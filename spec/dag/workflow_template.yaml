schema_version: v1
template_id: v1_generate_score_verify
description: "Generate candidates, score them, verify, then produce a dossier."

inputs:
  required:
    - primary_artifacts

steps:
  - id: generate
    type: generator
    tool: generator
    depends_on: []
    input_mapping:
      prompt_from: inputs.free_text_context

  - id: score
    type: scoring
    tool: scoring
    depends_on: [generate]
    input_mapping:
      candidates_from: steps.generate.output.candidates

  - id: verify
    type: verifier
    tool: verifier
    depends_on: [score]
    input_mapping:
      step_results_from: steps

outputs:
  dossier_from: steps.verify.output.dossier
